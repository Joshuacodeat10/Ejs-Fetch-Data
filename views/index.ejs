<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My title is || <%= title %></title>
</head>
<body>
<div>
    <input type="text" name="title" class="text">
    <textarea type="text" name="title"></textarea>
    <% for (post of posts) { %>
        <div id="<%= post.id %>">
            <h1><%= post.title %></h1>
            <p><%= post.body %></p>
            <button onclick="deleteItem('<%= post.id %>')">Delete</button>
        </div>
    <% } %>
    
</div>
<script>
async function deleteItem(itemId){
    try {
        const response = await fetch(`https://jsonplaceholder.typicode.com/posts/${itemId}`, { method: 'DELETE' }); // Used backticks for string interpolation
        if(response.ok) {
            console.log(await response.json()); // Logging the response data
            const div = document.querySelector(`div[id="${itemId}"]`); // Targeting the div containing the deleted post
            if (div) {
                div.remove(); // Removing the div containing the deleted post
            } else {
                console.error('Post element not found for deletion.');
            }
        } else {
            alert('Error deleting post.');
        }
    } catch(error) {
        console.error('Error deleting item:', error.message);
    }
}
</script>
</body>
</html>
